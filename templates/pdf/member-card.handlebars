<!DOCTYPE html>
<html lang="el">
<head>
    <meta charset="UTF-8">
    <title>Κάρτα Μέλους - {{member.firstName}} {{member.lastName}}</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'DejaVu Sans', 'Helvetica', Arial, sans-serif;
            background-color: #f0f0f0;
        }
        
        /* A4 Page for printing multiple cards */
        .page {
            width: 210mm;
            height: 297mm;
            padding: 10mm;
            margin: 0 auto;
            background: white;
        }
        
        /* Card dimensions - credit card size */
        .card-container {
            width: 85.6mm;
            height: 53.98mm;
            margin: 5mm;
            display: inline-block;
            page-break-inside: avoid;
        }
        
        /* Card styles */
        .member-card {
            width: 100%;
            height: 100%;
            position: relative;
            transform-style: preserve-3d;
        }
        
        /* Card Front */
        .card-front {
            width: 100%;
            height: 100%;
            position: absolute;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 10px;
            padding: 8mm;
            color: white;
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        
        /* Background pattern */
        .card-front::before {
            content: "";
            position: absolute;
            top: -50%;
            right: -50%;
            width: 200%;
            height: 200%;
            background: repeating-linear-gradient(
                45deg,
                transparent,
                transparent 10px,
                rgba(255,255,255,0.05) 10px,
                rgba(255,255,255,0.05) 20px
            );
            transform: rotate(45deg);
        }
        
        /* Card content positioning */
        .card-content {
            position: relative;
            z-index: 1;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }
        
        /* Organization header */
        .org-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 3mm;
        }
        
        .org-logo {
            height: 8mm;
            width: auto;
        }
        
        .org-name {
            font-size: 10pt;
            font-weight: bold;
            text-align: right;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
        }
        
        /* Member info */
        .member-info {
            margin: 2mm 0;
        }
        
        .member-name {
            font-size: 12pt;
            font-weight: bold;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
            margin-bottom: 2mm;
        }
        
        .member-code {
            font-size: 14pt;
            font-weight: bold;
            letter-spacing: 2px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
        }
        
        .member-type {
            display: inline-block;
            padding: 1mm 3mm;
            background: rgba(255,255,255,0.2);
            border-radius: 3px;
            font-size: 8pt;
            text-transform: uppercase;
            margin-top: 2mm;
        }
        
        /* Bottom info */
        .card-footer {
            display: flex;
            justify-content: space-between;
            align-items: flex-end;
            font-size: 8pt;
        }
        
        .valid-dates {
            opacity: 0.9;
        }
        
        /* Card Back */
        .card-back {
            width: 100%;
            height: 100%;
            position: absolute;
            background: linear-gradient(135deg, #374151 0%, #111827 100%);
            border-radius: 10px;
            padding: 5mm;
            color: white;
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
            display: none; /* Show when needed */
        }
        
        /* Magnetic stripe */
        .magnetic-stripe {
            position: absolute;
            top: 10mm;
            left: 0;
            right: 0;
            height: 12mm;
            background: #000;
        }
        
        /* Signature panel */
        .signature-panel {
            position: absolute;
            bottom: 15mm;
            left: 10mm;
            right: 10mm;
            height: 10mm;
            background: white;
            border-radius: 2px;
        }
        
        .signature-label {
            position: absolute;
            bottom: 26mm;
            left: 10mm;
            font-size: 7pt;
            opacity: 0.8;
        }
        
        /* Barcode/QR Code */
        .barcode-container {
            position: absolute;
            bottom: 5mm;
            right: 5mm;
            background: white;
            padding: 2mm;
            border-radius: 2px;
        }
        
        .qr-code {
            width: 15mm;
            height: 15mm;
        }
        
        .barcode {
            width: 40mm;
            height: 10mm;
        }
        
        /* Contact info on back */
        .contact-info {
            position: absolute;
            bottom: 5mm;
            left: 5mm;
            font-size: 7pt;
            opacity: 0.8;
            line-height: 1.3;
        }
        
        /* Premium/VIP card variants */
        .card-premium .card-front {
            background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
        }
        
        .card-vip .card-front {
            background: linear-gradient(135deg, #1f2937 0%, #000000 100%);
        }
        
        .card-honorary .card-front {
            background: linear-gradient(135deg, #059669 0%, #047857 100%);
        }
        
        /* Holographic effect for premium cards */
        .holographic {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(
                45deg,
                transparent 30%,
                rgba(255,255,255,0.1) 50%,
                transparent 70%
            );
            animation: holographic 3s infinite;
        }
        
        @keyframes holographic {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        
        /* Print styles */
        @media print {
            body { background: white; }
            .page { padding: 0; }
            .card-container { page-break-inside: avoid; }
        }
        
        /* Alternative layouts */
        .layout-vertical .member-card {
            width: 53.98mm;
            height: 85.6mm;
        }
        
        /* Photo variant */
        .member-photo {
            position: absolute;
            right: 8mm;
            top: 15mm;
            width: 20mm;
            height: 25mm;
            background: rgba(255,255,255,0.9);
            border: 2px solid white;
            border-radius: 3px;
            overflow: hidden;
        }
        
        .member-photo img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        /* Security features */
        .security-chip {
            position: absolute;
            left: 8mm;
            top: 20mm;
            width: 8mm;
            height: 6mm;
            background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
            border-radius: 1mm;
            border: 1px solid rgba(0,0,0,0.2);
        }
        
        /* Accessibility features */
        .braille-code {
            position: absolute;
            bottom: 3mm;
            left: 8mm;
            font-size: 6pt;
            opacity: 0.5;
        }
    </style>
</head>
<body>
    
    <div class="page">
        {{#each members}}
        <div class="card-container">
            <div class="member-card {{#if (eq this.membershipType 'premium')}}card-premium{{/if}} {{#if (eq this.membershipType 'vip')}}card-vip{{/if}} {{#if (eq this.membershipType 'honorary')}}card-honorary{{/if}}">
                
                <!-- Card Front -->
                <div class="card-front">
                    {{#if (or (eq this.membershipType 'premium') (eq this.membershipType 'vip'))}}
                    <div class="holographic"></div>
                    {{/if}}
                    
                    <div class="card-content">
                        <!-- Header -->
                        <div class="org-header">
                            {{#if ../company.logo}}
                            <img src="{{../company.logo}}" alt="Logo" class="org-logo">
                            {{/if}}
                            <div class="org-name">{{../company.name}}</div>
                        </div>
                        
                        <!-- Security chip for premium cards -->
                        {{#if (or (eq this.membershipType 'premium') (eq this.membershipType 'vip'))}}
                        <div class="security-chip"></div>
                        {{/if}}
                        
                        <!-- Member photo if available -->
                        {{#if this.photo}}
                        <div class="member-photo">
                            <img src="{{this.photo}}" alt="{{this.firstName}} {{this.lastName}}">
                        </div>
                        {{/if}}
                        
                        <!-- Member Information -->
                        <div class="member-info">
                            <div class="member-name">
                                {{this.firstName}} {{this.lastName}}
                            </div>
                            <div class="member-code">
                                {{this.memberCode}}
                            </div>
                            <div class="member-type">
                                {{#if (eq this.membershipType 'regular')}}ΤΑΚΤΙΚΟ ΜΕΛΟΣ{{/if}}
                                {{#if (eq this.membershipType 'premium')}}PREMIUM{{/if}}
                                {{#if (eq this.membershipType 'vip')}}VIP{{/if}}
                                {{#if (eq this.membershipType 'honorary')}}ΕΠΙΤΙΜΟ ΜΕΛΟΣ{{/if}}
                            </div>
                        </div>
                        
                        <!-- Footer -->
                        <div class="card-footer">
                            <div class="valid-dates">
                                <div>ΙΣΧΥΕΙ ΑΠΟ: {{formatDate this.membershipStartDate 'MM/YY'}}</div>
                                <div>ΛΗΓΕΙ: {{formatDate this.membershipEndDate 'MM/YY'}}</div>
                            </div>
                            {{#if this.status}}
                            <div style="font-size: 7pt; opacity: 0.8;">
                                {{#if (eq this.status 'active')}}✓ ΕΝΕΡΓΟ{{/if}}
                                {{#if (eq this.status 'suspended')}}⚠ ΑΝΕΣΤ.{{/if}}
                                {{#if (eq this.status 'inactive')}}✗ ΑΝΕΝΕΡΓΟ{{/if}}
                            </div>
                            {{/if}}
                        </div>
                        
                        <!-- Braille for accessibility -->
                        {{#if ../enableAccessibility}}
                        <div class="braille-code">⠠⠍⠑⠇⠕⠎</div>
                        {{/if}}
                    </div>
                </div>
                
                <!-- Card Back (uncomment to show) -->
                <!-- 
                <div class="card-back">
                    <div class="magnetic-stripe"></div>
                    
                    <div class="signature-label">ΥΠΟΓΡΑΦΗ ΚΑΤΟΧΟΥ</div>
                    <div class="signature-panel"></div>
                    
                    <div class="contact-info">
                        {{../company.address}}<br>
                        Τηλ: {{../company.phone}}<br>
                        Email: {{../company.email}}<br>
                        {{#if ../company.website}}Web: {{../company.website}}{{/if}}
                    </div>
                    
                    {{#if this.qrCode}}
                    <div class="barcode-container">
                        <img src="{{this.qrCode}}" alt="QR Code" class="qr-code">
                    </div>
                    {{else if this.barcode}}
                    <div class="barcode-container">
                        <img src="{{this.barcode}}" alt="Barcode" class="barcode">
                    </div>
                    {{/if}}
                </div>
                -->
                
            </div>
        </div>
        {{/each}}
    </div>
    
    <!-- Instructions Page (optional) -->
    {{#if showInstructions}}
    <div class="page" style="padding: 20mm;">
        <h2>Οδηγίες Εκτύπωσης Καρτών Μέλους</h2>
        
        <h3>Ρυθμίσεις Εκτύπωσης:</h3>
        <ul>
            <li>Μέγεθος χαρτιού: A4 (210mm x 297mm)</li>
            <li>Προσανατολισμός: Portrait (Κατακόρυφος)</li>
            <li>Περιθώρια: Καθόλου (0mm) ή Ελάχιστα</li>
            <li>Κλίμακα: 100% (Χωρίς σμίκρυνση)</li>
            <li>Ποιότητα: Υψηλή (300dpi ή περισσότερο)</li>
        </ul>
        
        <h3>Υλικά:</h3>
        <ul>
            <li>Χαρτί PVC 760 microns για επαγγελματικές κάρτες</li>
            <li>Χαρτί γυαλιστερό 250-300gsm για οικονομική λύση</li>
            <li>Laminating pouches 125 microns για προστασία</li>
        </ul>
        
        <h3>Διαδικασία:</h3>
        <ol>
            <li>Εκτυπώστε σε δοκιμαστικό χαρτί για έλεγχο</li>
            <li>Ρυθμίστε την ευθυγράμμιση αν χρειάζεται</li>
            <li>Εκτυπώστε στο τελικό υλικό</li>
            <li>Κόψτε προσεκτικά με κοπίδι ακριβείας</li>
            <li>Πλαστικοποιήστε αν απαιτείται</li>
            <li>Στρογγυλέψτε τις γωνίες με ειδικό εργαλείο</li>
        </ol>
        
        <h3>Διαστάσεις Κάρτας:</h3>
        <p>85.6mm x 53.98mm (ISO/IEC 7810 ID-1)</p>
        
        <h3>Σημείωση:</h3>
        <p>Για μαζική παραγωγή συνιστάται επαγγελματικό τυπογραφείο με εξοπλισμό εκτύπωσης πλαστικών καρτών.</p>
    </div>
    {{/if}}
    
</body>
</html>